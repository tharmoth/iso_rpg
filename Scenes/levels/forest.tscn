[gd_scene load_steps=14 format=3 uid="uid://bas03jmxojkds"]

[ext_resource type="Script" path="res://Scripts/world/level.gd" id="1_kqs2s"]
[ext_resource type="Texture2D" uid="uid://bk8v8gsd0qupa" path="res://Assets/scenes/forest.png" id="3_h6g5a"]
[ext_resource type="PackedScene" uid="uid://dhkp273kc1jah" path="res://Scenes/world/interactables/exit.tscn" id="4_tw86v"]
[ext_resource type="Texture2D" uid="uid://k8xh5qk3pmtj" path="res://Assets/sprites/Town_4.png" id="5_q4dvc"]
[ext_resource type="PackedScene" uid="uid://db1x5tigwum0m" path="res://Scenes/world/interactables/lootable.tscn" id="7_3nygm"]
[ext_resource type="Texture2D" uid="uid://o0tx6376f8uc" path="res://Assets/characters/items/chain_mail.png" id="7_h3pcl"]
[ext_resource type="Texture2D" uid="uid://ckcabmxh77rdy" path="res://Assets/characters/items/dagger.png" id="7_suq7k"]
[ext_resource type="Texture2D" uid="uid://divumww30hlo3" path="res://Assets/characters/items/medium_shield.png" id="8_jo62u"]
[ext_resource type="PackedScene" uid="uid://bukxx1d7t8dh0" path="res://Scenes/world/forest_sounds.tscn" id="9_iqkt1"]
[ext_resource type="PackedScene" uid="uid://buyjwaq4dl7nk" path="res://Scenes/characters/hostile_npc.tscn" id="12_nxvsa"]
[ext_resource type="PackedScene" uid="uid://n6iobgqwvpcd" path="res://Scenes/world/woods.tscn" id="12_w48gw"]
[ext_resource type="Texture2D" uid="uid://vwu4rqu6u8gq" path="res://Assets/sprites/sign.png" id="12_yeq07"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_n37w1"]
vertices = PackedVector2Array(-297, -1315, 249, -1027, 99, -1024, -974, -1031, -345, -1316, -1109, 977, 766, 878, 800, 879, 566, 1376, -1498, 1230, 662, -527, 544, -932, 1498, -1496, 1496, 1488, 591, -486, 642, -489, 803, 813, 760, 806, -120, 201, -142, 145, -103, -588, -223, -663, -146, -660, 523, -866, 613, -564, 523, -818, 824, 852, 752, 1497, 733, 840, -1114, 908, -180, 178, -1205, 976, 39, -968, 99, -942, 26, -900, 104, -523, 299, -523, 513, -521, -751, -445, -754, -472, -112, -520, -1248, 954, -1248, 921, -1496, 6.08154, -1293, 31, 105, -589, 249, -941, 338, -1003, 337, -907, 298, -593, -1207, 910, -1365, -780, -1496, -756, -1496, -1496, -1086, -1039, -1104, -968, 511, -593, 579, -530, -399, -932, -1299, -672, -1348, -660, -1006, -959, 496, -895, -762, -391, -764, -368, -785, -418, -808, -347, -1235.37, 0.504059, -1276, -97, -1231, -116, -1206, -80, -1150, -46, 461, -821, -257, -625, -72, -828, -96, -760, -401, -866, -259, -783, -824, -516, -13, -998, -857, -384, -1087, -78, -1054, -245, -833, -436, -1065, -402, -855, -480, 435, -992, -285, -1338, -348, -1404, -363, -1342, -1182, -474, -145, -722, -193, -822, -152, -881, -245, -832)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4), PackedInt32Array(5, 6, 7, 8, 9), PackedInt32Array(10, 11, 12, 13), PackedInt32Array(14, 15, 16, 17, 18, 19), PackedInt32Array(20, 21, 22), PackedInt32Array(23, 11, 10, 24, 25), PackedInt32Array(10, 13, 26, 16, 15), PackedInt32Array(7, 26, 13, 27, 8), PackedInt32Array(18, 28, 6, 5, 29, 30), PackedInt32Array(31, 5, 9), PackedInt32Array(32, 2, 33, 34), PackedInt32Array(35, 36, 37, 14, 19, 38, 39, 40), PackedInt32Array(41, 31, 9), PackedInt32Array(42, 41, 9, 43, 44), PackedInt32Array(45, 46, 47, 48, 49), PackedInt32Array(47, 46, 1), PackedInt32Array(50, 42, 44), PackedInt32Array(51, 52, 53, 54, 55), PackedInt32Array(37, 56, 57, 14), PackedInt32Array(58, 59, 60, 51, 61), PackedInt32Array(23, 62, 11), PackedInt32Array(63, 38, 19, 30, 64), PackedInt32Array(18, 17, 28), PackedInt32Array(63, 65, 38), PackedInt32Array(64, 30, 29, 66), PackedInt32Array(45, 49, 36, 35), PackedInt32Array(67, 68, 69, 70), PackedInt32Array(67, 70, 71, 29), PackedInt32Array(25, 24, 57, 56, 72), PackedInt32Array(72, 56, 49, 48), PackedInt32Array(29, 50, 44, 67), PackedInt32Array(73, 40, 39), PackedInt32Array(74, 34, 33, 46, 45, 20, 75), PackedInt32Array(76, 77, 73, 39, 78), PackedInt32Array(2, 32, 79), PackedInt32Array(61, 3, 2, 79, 58), PackedInt32Array(80, 66, 29, 81, 82), PackedInt32Array(29, 71, 81), PackedInt32Array(83, 80, 82, 84, 85), PackedInt32Array(12, 11, 86), PackedInt32Array(87, 88, 12, 86, 47, 1), PackedInt32Array(0, 87, 1), PackedInt32Array(53, 89, 4, 3, 54), PackedInt32Array(85, 84, 90, 59, 78), PackedInt32Array(76, 78, 59, 58), PackedInt32Array(53, 12, 88), PackedInt32Array(53, 88, 89), PackedInt32Array(22, 91, 75, 20), PackedInt32Array(74, 75, 92, 93), PackedInt32Array(93, 92, 94, 58), PackedInt32Array(79, 93, 58), PackedInt32Array(51, 55, 61)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-1496, -1496, 1498, -1496, 1496, 1488, 752, 1497, 566, 1376, -1498, 1230, -1496, 6.08154, -1293, 31, -1235.37, 0.504059, -1276, -97, -1231, -116, -1206, -80, -1150, -46, -1087, -78, -1054, -245, -1065, -402, -1182, -474, -1299, -672, -1348, -660, -1365, -780, -1496, -756), PackedVector2Array(104, -523, -112, -520, -257, -625, -259, -783, -401, -866, -399, -932, -245, -832, -193, -822, -96, -760, -145, -722, -146, -660, -223, -663, -103, -588, 105, -589), PackedVector2Array(299, -523, 513, -521, 511, -593, 298, -593), PackedVector2Array(-152, -881, -72, -828, 26, -900, 39, -968, -13, -998), PackedVector2Array(99, -1024, 99, -942, 249, -941, 249, -1027), PackedVector2Array(338, -1003, 337, -907, 461, -821, 523, -818, 523, -866, 496, -895, 544, -932, 435, -992), PackedVector2Array(613, -564, 579, -530, 591, -486, 642, -489, 662, -527), PackedVector2Array(-808, -347, -764, -368, -762, -391, -785, -418, -751, -445, -754, -472, -824, -516, -855, -480, -833, -436, -857, -384), PackedVector2Array(-1104, -968, -1006, -959, -974, -1031, -1086, -1039), PackedVector2Array(-180, 178, -120, 201, -142, 145), PackedVector2Array(733, 840, 766, 878, 800, 879, 824, 852, 803, 813, 760, 806), PackedVector2Array(-348, -1404, -363, -1342, -345, -1316, -297, -1315, -285, -1338), PackedVector2Array(-1205, 976, -1109, 977, -1114, 908, -1207, 910, -1248, 921, -1248, 954)])

[node name="Forest" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_kqs2s")
metadata/_edit_lock_ = true

[node name="Background" type="Sprite2D" parent="."]
z_index = -1
texture = ExtResource("3_h6g5a")
metadata/_edit_lock_ = true

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_n37w1")

[node name="Loot" type="Node2D" parent="."]
y_sort_enabled = true
metadata/_edit_lock_ = true

[node name="Food" parent="Loot" instance=ExtResource("7_3nygm")]
position = Vector2(-172, -778)
item = "potion_of_healing"

[node name="CollisionPolygon2D" parent="Loot/Food" index="0"]
polygon = PackedVector2Array(-6, 0, 1, 8, 8, 5, 0, -3, -4, -3)

[node name="Mushroom1" parent="Loot" instance=ExtResource("7_3nygm")]
position = Vector2(-581, 63)
item = "potion_of_healing"

[node name="CollisionPolygon2D" parent="Loot/Mushroom1" index="0"]
polygon = PackedVector2Array(-24, 4, 5, 21, 24, 6, 15, -15, -13, -11)

[node name="Mushroom2" parent="Loot" instance=ExtResource("7_3nygm")]
position = Vector2(652, 829)
item = "potion_of_healing"

[node name="CollisionPolygon2D" parent="Loot/Mushroom2" index="0"]
polygon = PackedVector2Array(-20, 15, 20, 14, 17, -12, -12, -13)

[node name="Mushroom3" parent="Loot" instance=ExtResource("7_3nygm")]
position = Vector2(814, 879)
item = "potion_of_healing"

[node name="CollisionPolygon2D" parent="Loot/Mushroom3" index="0"]
polygon = PackedVector2Array(-12, 1, 3, 19, 13, -5, 1, -15)

[node name="Mushroom4" parent="Loot" instance=ExtResource("7_3nygm")]
position = Vector2(1119, -1178)
item = "potion_of_healing"

[node name="CollisionPolygon2D" parent="Loot/Mushroom4" index="0"]
polygon = PackedVector2Array(-17, 18, 20, 10, 16, -12, -16, -16)

[node name="Cart" type="Sprite2D" parent="Loot"]
y_sort_enabled = true
position = Vector2(-1160, 972)
texture = ExtResource("5_q4dvc")
offset = Vector2(-40, -45)
region_enabled = true
region_rect = Rect2(568, 668, 200, 100)

[node name="Dagger" parent="Loot" instance=ExtResource("7_3nygm")]
z_index = 1
position = Vector2(-1171, 930)
item = "dagger"

[node name="CollisionPolygon2D" parent="Loot/Dagger" index="0"]
visible = false
polygon = PackedVector2Array(-1, -4, 20, 14, -6, 0, -14, 3, -13, -6, -21, -16, -7, -9, 2, -11)

[node name="Sprite2D" parent="Loot/Dagger" index="1"]
z_index = 0
texture = ExtResource("7_suq7k")

[node name="Chain" parent="Loot" instance=ExtResource("7_3nygm")]
position = Vector2(778, 953)
item = "chain_mail"

[node name="CollisionPolygon2D" parent="Loot/Chain" index="0"]
polygon = PackedVector2Array(24, -4, -15, 29, -30, 22, -40, 11, -39, 2, 2, -19, -26, -24, -22, -32, 31, -27, 41, -14, 34, 14)

[node name="Sprite2D" parent="Loot/Chain" index="1"]
texture = ExtResource("7_h3pcl")

[node name="Shield" parent="Loot" instance=ExtResource("7_3nygm")]
position = Vector2(-1248, -1159)
item = "medium_shield"

[node name="CollisionPolygon2D" parent="Loot/Shield" index="0"]
polygon = PackedVector2Array(-23, 3, -2, 13, 22, 14, 17, -4, 2, -15, -13, -8)
metadata/_edit_lock_ = true

[node name="Sprite2D" parent="Loot/Shield" index="1"]
texture = ExtResource("8_jo62u")

[node name="Exits" type="Node2D" parent="."]
y_sort_enabled = true
metadata/_edit_lock_ = true

[node name="Cave" parent="Exits" instance=ExtResource("4_tw86v")]
position = Vector2(-1239, -79)
target_scene = "res://Scenes/levels/cave.tscn"
metadata/_edit_lock_ = true

[node name="CollisionPolygon2D" parent="Exits/Cave" index="0"]
polygon = PackedVector2Array(-2, 56, -25, 46, -31, -18, -12, -18, 10, -45, 28, -46, 21, -20, 41, -1)

[node name="City" parent="Exits" instance=ExtResource("4_tw86v")]
position = Vector2(1479, -379)
target_scene = "res://Scenes/levels/city.tscn"
metadata/_edit_lock_ = true

[node name="CollisionPolygon2D" parent="Exits/City" index="0"]
polygon = PackedVector2Array(-39, -142, -42, 169, 22, 171, 21, -145)

[node name="Spawn" parent="Exits" instance=ExtResource("4_tw86v")]
position = Vector2(632, 1069)

[node name="Road" parent="Exits" instance=ExtResource("4_tw86v")]
position = Vector2(-1424, 1104)
target_scene = "res://Scenes/levels/world.tscn"

[node name="CollisionPolygon2D" parent="Exits/Road" index="0"]
polygon = PackedVector2Array(-76, -147, -77, 91, -19, 91, -14, -148)

[node name="AudioStreamPlayer" parent="." instance=ExtResource("9_iqkt1")]

[node name="Trees" type="Node2D" parent="."]
y_sort_enabled = true
metadata/_edit_lock_ = true

[node name="Woods" parent="Trees" instance=ExtResource("12_w48gw")]
frequency = 0.03

[node name="CollisionPolygon2D" parent="Trees/Woods" index="0"]
polygon = PackedVector2Array(-1494, 955, 605, 999, 612, 796, 736, 767, 599, 247, -97, -197, -485, -225, 10, 415, -694, 395, -1509, 558)

[node name="Woods2" parent="Trees" instance=ExtResource("12_w48gw")]
frequency = 0.011

[node name="CollisionPolygon2D" parent="Trees/Woods2" index="0"]
visible = false
polygon = PackedVector2Array(729, 1408, 818, 1499, 1507, 1497, 1497, -61, 1226, 116, 1098, 438, 1232, 868, 1132, 1255)

[node name="Woods3" parent="Trees" instance=ExtResource("12_w48gw")]

[node name="CollisionPolygon2D" parent="Trees/Woods3" index="0"]
visible = false
polygon = PackedVector2Array(1490, -724, 806, -296, 609, -513, 713, -864, 367, -1104, -84, -1055, -432, -883, -523, -635, -875, -627, -915, -1496, 1497, -1496)

[node name="Sprite2D" type="Sprite2D" parent="."]
y_sort_enabled = true
position = Vector2(1345, -508)
scale = Vector2(0.75, 0.75)
texture = ExtResource("12_yeq07")
offset = Vector2(35, -115)

[node name="Hostiles" type="Node2D" parent="."]
y_sort_enabled = true
metadata/_edit_lock_ = true

[node name="Bandit" parent="Hostiles" instance=ExtResource("12_nxvsa")]
y_sort_enabled = false
position = Vector2(154, -895)
display_name = "Bandit"

[node name="Bandit2" parent="Hostiles" instance=ExtResource("12_nxvsa")]
y_sort_enabled = false
position = Vector2(-30, -822)
display_name = "Bandit"

[node name="Bandit3" parent="Hostiles" instance=ExtResource("12_nxvsa")]
y_sort_enabled = false
position = Vector2(339, -842)
display_name = "Bandit"

[node name="BanditClothing" parent="Hostiles" instance=ExtResource("12_nxvsa")]
y_sort_enabled = false
position = Vector2(-1176, -1104)
display_name = "Bandit"

[editable path="Loot/Food"]
[editable path="Loot/Mushroom1"]
[editable path="Loot/Mushroom2"]
[editable path="Loot/Mushroom3"]
[editable path="Loot/Mushroom4"]
[editable path="Loot/Dagger"]
[editable path="Loot/Chain"]
[editable path="Loot/Shield"]
[editable path="Exits/Cave"]
[editable path="Exits/City"]
[editable path="Exits/Road"]
[editable path="Trees/Woods"]
[editable path="Trees/Woods2"]
[editable path="Trees/Woods3"]
